(function(e){function t(t){for(var n,s,o=t[0],c=t[1],d=t[2],l=0,f=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,d||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0d67":function(e,t,r){e.exports=r.p+"img/walking_dead_ban.c4b2d9fc.png"},3657:function(e,t,r){e.exports=r.p+"img/angry_banban.16207c5a.png"},"3dc5":function(e,t,r){e.exports=r.p+"img/thief_banban.51270eaa.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Poker")],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"poker-game"},[n("div",{staticClass:"table"},[e.isHiddenThreeCard?e._e():n("div",{staticClass:"lord-icon"},[e._v("üë≤")]),e.isShowTop?n("div",{staticClass:"top-docker"},e._l(e.lastThreeCard,(function(t,r){return n("Card",{key:t.id,style:{left:r/4.5+"px",top:r/4.5+"px"},attrs:{isHidden:e.isHiddenThreeCard,pokerInfo:t,isScale:!0,isTopThree:!0}})})),1):e._e(),e.isShowPoker&&!e.isShowTop?n("div",{staticClass:"contener"},e._l(e.pokers,(function(e,t){return n("Card",{key:e.id,style:{left:t/4.5+"px",top:t/4.5+"px"}})})),1):e._e(),n("div",{staticClass:"player-pokers",style:{width:4*e.player1.hands.length+7+"vh"}},e._l(e.player1.hands,(function(t,r){return n("Card",{key:t.id,staticClass:"player-card",style:{left:4*r+"vh"},attrs:{pokerInfo:t,isHidden:!1,isSelected:t.isSelected},on:{"update-card":e.clickCardHandler}})})),1),e.player2.hands.length?n("div",{staticClass:"hands-card hands-card-right"},[n("div",{staticClass:"back"},[e._v(e._s(e.player2.hands.length))])]):e._e(),e.player3.hands.length?n("div",{staticClass:"hands-card"},[n("div",{staticClass:"back"},[e._v(e._s(e.player3.hands.length))])]):e._e(),e.isShowHitCards?n("div",{staticClass:"hited-cards"},e._l(e.player1.nowTurnHitCardsList,(function(e){return n("Card",{key:e.id,attrs:{isHidden:!1,pokerInfo:e,isScale:!0}})})),1):e._e(),e.isShowHitCardsPlayer2?[n("div",{staticClass:"hited-cards player2"},[e._l(e.player2.nowTurnHitCardsList,(function(e){return n("Card",{key:e.id,attrs:{isHidden:!1,pokerInfo:e,isScale:!0}})})),0===e.player2.nowTurnHitCardsList.length?n("div",{staticStyle:{"font-size":"10vh"}},[e._v(" Ë¶Å‰∏çËµ∑ ")]):e._e()],2)]:e._e(),e.isShowHitCardsPlayer3?[n("div",{staticClass:"hited-cards player3"},[e._l(e.player3.nowTurnHitCardsList,(function(e){return n("Card",{key:e.id,attrs:{isHidden:!1,pokerInfo:e,isScale:!0}})})),0===e.player3.nowTurnHitCardsList.length?n("div",{staticStyle:{"font-size":"10vh"}},[e._v(" Ë¶Å‰∏çËµ∑ ")]):e._e()],2)]:e._e()],2),n("div",{staticClass:"player-list"},[n("div",{staticClass:"player"},[n("img",{staticClass:"character",attrs:{src:r("3657")}}),e.player1.isLord||e.isHiddenThreeCard?e._e():n("div",{staticClass:"worker worker1"},[e._v(" üë©‚Äçüåæ ")])]),n("div",{staticClass:"cup1"},[n("img",{staticClass:"character",attrs:{src:r("3dc5")}}),e.player3.isLord||e.isHiddenThreeCard?e._e():n("div",{staticClass:"worker worker3"},[e._v(" üë©‚Äçüåæ ")])]),n("div",{staticClass:"cup2"},[n("img",{staticClass:"character",attrs:{src:r("0d67")}}),e.player2.isLord||e.isHiddenThreeCard?e._e():n("div",{staticClass:"worker worker2"},[e._v(" üë©‚Äçüåæ ")])]),e._m(0)]),n("div",{staticClass:"ui-wraper btn-group"},[e.notStart?n("div",{staticClass:"ui-tip"},[n("UIButton",{staticClass:"ui-btn pain",attrs:{name:"ÂêçÁâåÂºÄÂßã"},on:{clickHandler:function(t){return e.isDoubleReward(!0)}}}),n("UIButton",{staticClass:"ui-btn primary",attrs:{name:"ÂºÄÂßãÊ∏∏Êàè",type:"start"},on:{clickHandler:function(t){return e.startGame()}}})],1):e._e(),e.isShowIfTobeLandlord?n("div",{key:"isShowIfTobeLandlord",staticClass:"ui-tip"},[n("UIButton",{staticClass:"ui-btn primary",staticStyle:{width:"11vh"},attrs:{name:"Âè´Âú∞‰∏ª",type:"call"},on:{clickHandler:function(t){return e.askIfTobeLandlord(e.player1)}}}),n("UIButton",{staticClass:"ui-btn pain",staticStyle:{width:"11vh"},attrs:{name:"‰∏çÂè´",type:"notCall"},on:{clickHandler:function(t){return e.notLandlord(e.player1)}}})],1):e._e(),e.isMyHit?n("div",{key:"isMyHit",staticClass:"ui-tip"},[n("UIButton",{ref:"buchu",staticClass:"ui-btn pain",staticStyle:{width:"11vh"},attrs:{name:"‰∏çÂá∫",type:"notCall"},on:{clickHandler:e.nextOne}}),n("UIButton",{staticClass:"ui-btn pain",staticStyle:{width:"11vh"},attrs:{name:"ÊèêÁ§∫"},on:{clickHandler:e.hint}}),n("UIButton",{staticClass:"ui-btn primary",staticStyle:{width:"11vh"},attrs:{name:"Âá∫Áâå",type:"hit",player:e.player1,playerList:e.playerList},on:{clickHandler:e.playerHitHandler}})],1):e._e(),e.isShowDoubleTip?n("div",{staticClass:"ui-tip"},[n("UIButton",{staticClass:"ui-btn",attrs:{name:"Âä†ÂÄç"},on:{clickHandler:function(t){return e.isDoubleReward(!0)}}}),n("UIButton",{staticClass:"ui-btn",attrs:{name:"‰∏çÂä†ÂÄç"},on:{clickHandler:function(t){return e.isDoubleReward(!1)}}})],1):e._e(),n("div"),n("div")])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("img",{staticClass:"character",attrs:{src:r("7629")}})])}],c=r("b85c"),d=r("1da1");r("96cf"),r("159b"),r("7db0"),r("99af"),r("4e82"),r("d3b7"),r("b0c0"),r("a434"),r("c740");function u(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}r("4de4");var l=["3","4","5","6","7","8","9","10","J","Q","K","A","2","little","big"],f=r("0644"),p=r.n(f),h=null,y=null,v=[],m={singleGroup:[],doubleGroup:[],tripleGroup:[],bombGroup:[],abcdeGroup:[]},g=!1,C=!1,k=!1;function b(e,t){var r={};return e.forEach((function(e){r[e[t]]?r[e[t]].push(e):r[e[t]]=[e]})),r}function T(){var e=h,t=e.hands,r=e.playerNum,n=y.cardInfo,a=n.maxCard,i=m.singleGroup,s=i.findIndex((function(e){var t=l.indexOf(e.sortKey),r=l.indexOf(a);return t-r>0})),o=s>-1;if(!o)return o;var c=i[s],d=c.id;return t.forEach((function(e){e.id===d&&(e.isSelected=!0)})),h.cardInfo={cardType:"SINGLE",matchLength:1,addCard:0,maxCard:c.sortKey},console.log("Ë¶ÅÂá∫ÁöÑÁâå".concat(c.sortKey),"playerInfo".concat(r)),o}function x(e){console.log("double");var t=h,r=t.hands,n=t.playerNum,a={},i=[];for(var s in r.forEach((function(e){a[e.rank]?a[e.rank].push(e):a[e.rank]=[e]})),a)2===a[s].length&&i.push(s);i.sort((function(e,t){var r=l.indexOf(e),n=l.indexOf(t);return r-n})),console.log(i,"doubleList");var o="";if(e);else{for(var c=0;c<i.length;c++){var d=i[c],u=l.indexOf(d),f=l.indexOf(v[0].rank);if(u>f){o=d;break}}console.log("Ë¶ÅÂá∫ÁöÑÁâå".concat(o),"player".concat(n)),r.forEach((function(e){o&&e.rank===o&&(e.isSelected=!0)}))}return h.cardInfo={cardType:"DOUBLE",matchLength:2,addCard:0,maxCard:o},o}function w(){var e=y.cardInfo,t=e.maxCard,r=m.tripleGroup;if(0===r.length)return!1;var n=r.findIndex((function(e){var r=l.indexOf(e[0].sortKey),n=l.indexOf(t);return r-n>0})),a=n>-1;if(!a)return a;var i=r[n];return i.forEach((function(e){e.isSelected=!0})),h.cardInfo={cardType:"TRIPLE",matchLength:3,addCard:0,maxCard:i[0].sortKey},!0}function L(e){var t=y.cardInfo,r=t.maxCard,n=m,a=n.singleGroup,i=n.doubleGroup,s=n.tripleGroup;if(0===s.length)return!1;var o=s.findIndex((function(e){var t=l.indexOf(e[0].sortKey),n=l.indexOf(r);return t-n>0})),c=o>-1;if(!c)return c;var d=a[0],u=null;if(1===e?(d&&(u=d),!d&&i.length&&(u=i[0][0])):i.length&&(u=i[0]),!u||0===u.length)return!1;var f=s[o];return 1===e?f.push(u):f.concat(u),f.forEach((function(e){e.isSelected=!0})),h.cardInfo={cardType:1===e?"TRIPLE1":"TRIPLE2",matchLength:3,addCard:1===e?1:2,maxCard:f[0].sortKey},!0}function O(){var e=y.cardInfo,t=e.maxCard,r=m.bombGroup;if(0===r.length)return!1;var n=r.findIndex((function(e){var r=l.indexOf(e[0].sortKey),n=l.indexOf(t);return r-n>0})),a=n>-1;if(!a)return a;var i=r[n];return i.forEach((function(e){e.isSelected=!0})),h.cardInfo={cardType:"BOMB",matchLength:4,addCard:0,maxCard:i[0].sortKey},!0}function S(){var e=H();h.nowTurnHitCardsList=e,e.forEach((function(e){var t=h.hands.findIndex((function(t){return t.id===e.id}));h.hands.splice(t,1)}))}function H(){var e=p()(h.hands).filter((function(e){return e.isSelected}));return e}function I(e){return y=e[h.preTurn-1],v=y.nowTurnHitCardsList,0===v.length&&(y=e[y.preTurn-1],v=y.nowTurnHitCardsList),v.length>0}function E(){var e=h.hands,t=[],r=b(e,"sortKey"),n=[],a=[],i=[],s=[],o=[];for(var c in r){var d=r[c];1===d.length&&n.push(d[0]),2===d.length&&(t.push(c),a.push(d)),3===d.length&&i.push(d),4===d.length&&s.push(d),o.push({rank:c,cards:r[c]})}var u=!0;_(n,u),_(a),_(i),_(s),m={singleGroup:n,doubleGroup:a,tripleGroup:i,bombGroup:s}}function _(e,t){t?e.sort((function(e,t){var r=l.indexOf(e.sortKey),n=l.indexOf(t.sortKey);return r-n})):e.sort((function(e,t){var r=l.indexOf(e[0].sortKey),n=l.indexOf(t[0].sortKey);return r-n}))}function P(){var e=m,t=e.singleGroup,r=e.doubleGroup,n=e.tripleGroup,a=e.bombGroup,i=[],s=null;if(g=0===t.length||g,C=0===r.length||C,k=0===n.length||k,t.length>0){console.log(t,"singleGroup");var o=t[0],c=o.sortKey,d=l.indexOf(c);return console.log(d,"index"),o.isSelected=!0,h.cardInfo={cardType:"SINGLE",matchLength:1,addCard:0,maxCard:o.sortKey},!0}return g&&r.length>0?(i=r[0],s={cardType:"DOUBLE",matchLength:2,addCard:0}):n.length>0?(i=n[0],s={cardType:"TRIPLE",matchLength:3,addCard:0}):a.length>0&&(i=a[0],s={addCard:0,cardType:"BOMB",matchLength:4}),B(i,s)}function B(e,t){return e.forEach((function(e){e.isSelected=!0})),h.cardInfo={cardType:t.cardType,matchLength:t.matchLength,addCard:t.addCard||"0",maxCard:e[0].sortKey},!0}function R(e,t){h=e,console.log(h);var r=I(t),n=!1;if(E(),r){var a=y.cardInfo.cardType;switch(a){case"SINGLE":n=T();break;case"DOUBLE":n=x();break;case"TRIPLE":n=w();break;case"TRIPLE1":n=L(1);break;case"TRIPLE2":n=L(2);break;case"BOMB":n=O();break;case"JBOMB":n=!1;break;case"DOUBLE_CONSEQUENT":n=x("CONSEQUENT");break}}else n=P();return S(),n}var j=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],K=["spades","hearts","diams","clubs"],G=[];j.forEach((function(e){K.forEach((function(t){G.push({id:e+t,rank:e,suit:t,sortKey:e,isSelected:!1})}))})),G=G.concat([{rank:"JOKER",suit:"big",sortKey:"big",id:"JOKERbig",isSelected:!1},{rank:"JOKER",suit:"little",sortKey:"little",id:"JOKERlittle",isSelected:!1}]);var N=G,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{on:{click:e.clickHandler}},[e._v(e._s(e.name))])},U=[],M=(r("fb6a"),r("ac1f"),r("5319"),r("d81d"),r("b64b"),r("2ef0")),A={cardType:"",matchLength:0,addCard:0,maxCard:""};function J(e){e.sort((function(e,t){var r=l.indexOf(e),n=l.indexOf(t);return n-r}))}var $=Object(M["cloneDeep"])(l).reverse();function F(e){var t=1===e.length;return t&&(A={cardType:"SINGLE",matchLength:1,addCard:0,maxCard:e[0].sortKey}),t&&A}function Q(e){if(4!==e.length)return!1;var t=e.map((function(e){return e.rank})),r=t.every((function(e){return e===t[0]}));return r&&(A={cardType:"BOMB",matchLength:4,addCard:0,maxCard:e[0].rank}),r&&A}function z(e){if(2!==e.length)return!1;var t=e[0].sortKey===e[1].sortKey;return t&&(A={cardType:"DOUBLE",matchLength:2,addCard:0,maxCard:e[0].sortKey}),t&&A}function Y(e){if(2!==e.length)return!1;if(2===e.length){var t=e.every((function(e){return"JOKER"===e.rank}));return t&&(A={cardType:"JBOMB",matchLength:0,addCard:0,maxCard:""}),t&&A}}function q(e){if(3!==e.length)return!1;var t=e[0].rank,r=e.every((function(e){return e.rank===t}));return r&&(A={cardType:"TRIPLE",matchLength:3,addCard:0,maxCard:t}),r&&A}function X(e){var t=Object(M["cloneDeep"])(e);if(e[0].rank===e[1].rank){var r=q(t.slice(0,3));return r&&(A={cardType:"TRIPLE1",matchLength:3,addCard:1,maxCard:e[0].rank}),r&&A}var n=q(t.slice(-3));return n&&(A={cardType:"TRIPLE1",matchLength:3,addCard:1,maxCard:e[1].rank}),n&&A}function V(e){var t=Object(M["cloneDeep"])(e);if(e[0].rank===e[2].rank){if(q(t.slice(0,3))){var r=z(t.slice(-2));return r&&(A={cardType:"TRIPLE2",matchLength:3,addCard:2,maxCard:e[0].rank}),r&&"TRIPLE2"}}else if(q(t.slice(-3))){var n=z(t.slice(0,2));return n&&(A={cardType:"checkTriple2",matchLength:3,addCard:1,maxCard:e[2].rank}),n&&"checkTriple2"}return!1}function W(e){var t=["2","little","big"];if(e.length<5)return!1;var r=t.some((function(t){return e.some((function(e){return e.rank===t}))}));if(console.log(r,"isValid"),r)return!1;var n=e.map((function(e){return e.sortKey})),a=$.indexOf(n[0]),i=n.every((function(e){var t=e===$[a];return a++,t}));return i&&(A={cardType:"CONSEQUENT",matchLength:e.length,addCard:0,maxCard:e[0].rank}),i&&A}function Z(e){var t=e.length;if(t<6||t%2!==0)return!1;var r=Object(M["chunk"])(e,2),n=r.every((function(e){return e[0].rank===e[1].rank}));if(!n)return!1;var a=Object(M["uniqBy"])(e,"rank"),i=a.map((function(e){return e.rank})),s=$.indexOf(i[0]),o=i.every((function(e){console.log(e,$[s],s);var t=e===$[s];return s++,t}));return o&&(A={cardType:"DOUBLE_CONSEQUENT",matchLength:e.length/2,addCard:0,maxCard:e[0].rank}),o&&A}function ee(e){var t=e.length;if(t<6||t%2!==0)return!1;var r=Object(M["chunk"])(e,3),n=r.every((function(e){return e[0].rank===e[1].rank&&e[1].rank===e[2].rank}));if(!n)return!1;console.log(n,"isSame");var a=Object(M["uniqBy"])(e,"rank"),i=a.map((function(e){return e.rank})),s=$.indexOf(i[0]),o=i.every((function(e){console.log(e,$[s],s);var t=e===$[s];return s++,t}));return o&&(A={cardType:"TRIPLE_CONSEQUENT",matchLength:e.length/3,addCard:0,maxCard:e[0].rank}),o&&A}function te(e,t){var r=Object(M["countBy"])(e,"rank"),n=Object.keys(r),a=[],i=[];n.forEach((function(e){3===r[e]&&a.push(e),r[e]===t&&i.push(e)}));var s=a.length>=2&&a.length===i.length;return s&&(A={cardType:1===t?"AIRPLANE1":"AIRPLANE2",matchLength:a.length,addCard:t,maxCard:J(a)[0]}),s&&A}function re(e,t){var r=Object(M["countBy"])(e,"rank");console.log(r,"groups");var n=Object.keys(r),a=[],i=[];n.forEach((function(e){4===r[e]&&a.push(e),r[e]===t&&i.push(e)}));var s=1===a.length&&2===i.length;return s&&(A={cardType:1===t?"FOUR1":"FOUR2",matchLength:1,addCard:t,maxCard:a[0]}),s&&A}function ne(e){var t=e.length;if(1===t)return F(e);if(2===t)return z(e)||Y(e);if(3===t)return q(e);if(4===t)return Q(e)||X(e);if(5===t){var r=V(e);if(r)return r}if(t>=5&&t<=12){var n=W(e);if(n)return n}if(t>=6&&t%2===0){var a=Z(e)||ee(e);if(a)return a}return 6===t?re(e,1):t>=8&&(te(e,1)||te(e,2)||re(e,2))}function ae(e,t){var r=l.indexOf(e),n=l.indexOf(t);return r-n>0}function ie(e,t){var r=e.cardInfo,n=r.cardType,a=r.maxCard,i=t.cardInfo.maxCard,s=!1;return"JBOMB"===n||(s=ae(a,i),s)}var se={checkSingle:F,checkBomb:Q,checkDouble:z,checkTriple:q,checkTriple1:X,checkTriple2:V,checkType:ne,isBigger:ie},oe=se,ce=ge(r("7aa2")),de=ge(r("a972")),ue=ge(r("9332")),le=ge(r("67d3"),{loop:!0}),fe=ge(r("74cb")),pe=ge(r("9434")),he=ge(r("af29")),ye=ge(r("62ef")),ve={default:fe,call:ue,notCall:ce,hit:de,start:fe,bgm:le,error:pe,nothing:he,shuffle:ye},me=new(window.AudioContext||window.webkitAudioContext);function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={volume:1,audioBuffer:null,loop:!1};r=Object.assign(r,t);var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){me.decodeAudioData(n.response,(function(e){r.audioBuffer=e}),(function(e){console.log(e)}))},n.onerror=function(){},n.send(),r}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e,"soundType");var r=ve[e];if(!r.audioBuffer)return!1;var n=me.createBufferSource();if(!n)return!1;if(n.buffer=r.audioBuffer,n.start||(n.start=n.noteOn),!n.start)return!1;t&&(n.loop=!0);var a=me.createGain();return a.gain.value=r.volume,n.connect(a),a.connect(me.destination),n.start(0),r.gainNode=a,!0}var ke={name:"UIButton",data:function(){return{audio:null,againstPlayer:null}},props:{name:{type:String,default:""},type:{type:String,default:"default"},player:Object,playerList:Array},mounted:function(){},methods:{clickHandler:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"hit"!==e.type){t.next=5;break}e.playerHitHandler(),t.next=9;break;case 5:return"start"===e.type&&Ce("bgm",!0),t.next=8,Ce(e.type);case 8:e.$emit("clickHandler");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},playerHitHandler:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.filterSelectedCard(),r=e.validateCardsRank(),console.log(r,"Áé©ÂÆ∂Âá∫ÁöÑÁâå"),r){t.next=6;break}return t.abrupt("return",Ce("error"));case 6:e.player.cardInfo=r,e.player.nowTurnHitCardsList=p()(e.selectedCards),e.dropTheCards(e.selectedCards),Ce("hit"),e.$emit("clickHandler"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},dropTheCards:function(e){var t=this;e.forEach((function(e){var r=t.player.hands.findIndex((function(t){return t.id===e.id}));t.player.hands.splice(r,1)}))},filterSelectedCard:function(){var e=p()(this.player.hands).filter((function(e){return e.isSelected}));this.selectedCards=e},isFreeHit:function(){var e=this.playerList[this.player.preTurn-1],t=e.nowTurnHitCardsList;return 0===t.length&&(e=this.playerList[e.preTurn-1],t=e.nowTurnHitCardsList),this.againstPlayer=e,0===t.length},validateCardsRank:function(){var e=!1;if(0===this.selectedCards.length)return e;var t=this.isFreeHit();if(t)return e=oe.checkType(this.selectedCards),e;var r=this.againstPlayer.cardInfo.cardType,n=r.slice(1),a=r.replace(n,n.toLowerCase()),i=p()(this.player);if(e=oe["check".concat(a)](this.selectedCards,i),!e)return!1;i.cardInfo=e;var s=ie(i,this.againstPlayer);return s&&e}}},be=ke,Te=r("2877"),xe=Object(Te["a"])(be,D,U,!1,null,null,null),we=xe.exports,Le=r("f560"),Oe=r.n(Le),Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"poker",class:{isHidden:e.isHidden,isSelected:e.isSelected},attrs:{id:e.pokerInfo.id}},[e.isHidden?r("div",{staticClass:"back"}):r("div",{staticClass:"front",class:e.pokerInfo.suit,attrs:{id:e.pokerInfo.id},on:{click:e.clickPoker}},["little"!==e.pokerInfo.suit&&"big"!==e.pokerInfo.suit||!e.isScale?r("div",{staticClass:"rank"},[e._v(" "+e._s(e.pokerInfo.rank)+" ")]):e._e(),"little"!==e.pokerInfo.suit&&"big"!==e.pokerInfo.suit?r("div",{staticClass:"suit",attrs:{id:e.pokerInfo.id},domProps:{innerHTML:e._s(e.getSymol(e.pokerInfo.suit,"little"))}}):e._e(),e.isScale?e._e():r("div",{staticClass:"big-suit",attrs:{id:e.pokerInfo.id},domProps:{innerHTML:e._s(e.getSymol(e.pokerInfo.suit,"big"))}}),e.isScale&&"JOKER"===e.pokerInfo.rank?r("div",{staticClass:"big-suit",staticStyle:{"font-size":"4vh",top:"auto","justify-content":"center","align-items":"center"}},[e._v(" "+e._s("big"===e.pokerInfo.suit?"ü§°":"üëª")+" ")]):e._e()])])},He=[],Ie={name:"poker",data:function(){return{}},props:{pokerInfo:{type:Object,default:function(){return{}}},isHidden:{type:Boolean,default:!0},isScale:{type:Boolean,default:!1},selectedCard:null,isTopThree:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1}},created:function(){},methods:{getSymol:function(e,t){return"big"!==t||"big"!==e&&"little"!==e?"big"===e?"ü§°":"little"===e?"üëª":"&".concat(e,";"):""},clickPoker:function(){this.$emit("update-card",this.pokerInfo)}}},Ee=Ie,_e=(r("7e5d"),Object(Te["a"])(Ee,Se,He,!1,null,"3fc889d2",null)),Pe=_e.exports,Be=r("cffa"),Re={name:"poker",data:function(){return{pokers:[],player1:{name:"Â§ßÊØõ",hands:[],isLandlord:!1,isDouble:!1,playerNum:1,nowTurnHitCardsList:[],nextTurn:2,preTurn:3,isLord:!1},player2:{name:"‰∫åÊØõ",hands:[],isLandlord:!1,isDouble:!1,playerNum:2,nowTurnHitCardsList:[],nextTurn:3,preTurn:1,isLord:!1},player3:{name:"‰∏âÊØõ",hands:[],isLandlord:!1,isDouble:!1,playerNum:3,nowTurnHitCardsList:[],nextTurn:1,preTurn:2,isLord:!1},playerList:[],isShowIfTobeLandlord:!1,isShowDoubleTip:!1,notStart:!0,isShowPoker:!1,isShowTop:!1,isHiddenThreeCard:!0,isMyHit:!1,lastThreeCard:[],isShowHitCards:!1,isShowHitCardsPlayer2:!1,isShowHitCardsPlayer3:!1,point:{x:0,y:0},selectedCards:[],selectedCardsTemp:[],hitCards:[]}},props:{msg:String},components:{Card:Pe,UIButton:we},watch:{},created:function(){this.playersJoinGame(),this.shuffle()},mounted:function(){var e=document.getElementsByClassName("table")[0];e.addEventListener("touchstart",this.disableTounch)},methods:{cloneDeep:p.a,startGame:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.notStart=!1,e.isShowPoker=!0,Ce("shuffle"),t.next=5,e.deal();case 5:e.lastThreeCard=p()(e.pokers),e.playerList.forEach((function(t){return e.sortPoker(t)})),e.sortPoker(e.player1),e.bindTouchEvent(),e.isShowIfTobeLandlord=!0;case 10:case"end":return t.stop()}}),t)})))()},bindTouchEvent:function(){var e=document.getElementsByClassName("player-pokers")[0];e.addEventListener("touchstart",this.handstouchStart),e.addEventListener("touchend",this.handstouchEnd),e.addEventListener("touchmove",this.handstouchMove,!1)},disableTounch:function(e){"table"===e.target.className&&e.preventDefault()},handstouchStart:function(){},handstouchMove:function(e){e.preventDefault(),e.stopPropagation(),this.point.x=e.changedTouches[0].clientX,this.point.y=e.changedTouches[0].clientY;var t=this.point,r=t.x,n=t.y,a=document.elementFromPoint(r,n);a&&this.findTrueDom(a)},findTrueDom:function(e){var t=e.getAttribute("id");if(!t)return!1;var r=this.player1.hands.find((function(e){return e.id===t}));-1===this.selectedCardsTemp.indexOf(t)&&(this.selectedCardsTemp.push(t),r.isSelected=!r.isSelected)},handstouchEnd:function(){0!==this.selectedCardsTemp.length?(this.selectedCards=this.selectedCards.concat(p()(this.selectedCardsTemp)),this.selectedCardsTemp=[]):this.selectedCardsTemp=[]},playersJoinGame:function(){this.playerList=[this.player1,this.player2,this.player3]},sortAllPlayer:function(){var e=this;this.playerList.forEach((function(t){return e.sortPoker(t)}))},shuffle:function(){this.pokers=Oe()(p()(N))},deal:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(e.pokers.length>3)){t.next=21;break}r=Object(c["a"])(e.playerList),t.prev=3,r.s();case 5:if((n=r.n()).done){t.next=11;break}return a=n.value,t.next=9,e.dealPoker(a);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=1;break;case 21:e.isShowTop=!0,t.next=27;break;case 24:t.prev=24,t.t1=t["catch"](0),console.log(t.t1);case 27:case"end":return t.stop()}}),t,null,[[0,24],[3,13,16,19]])})))()},sortPoker:function(e){e.hands.sort((function(e,t){var r=l.indexOf(e.sortKey),n=l.indexOf(t.sortKey);return n-r}))},dealPoker:function(e){var t=this;return new Promise((function(r){setTimeout((function(){e.hands.push(t.pokers.shift()),r()}),30)}))},isDoubleReward:function(e){this.player1.isDouble=e,this.isShowDoubleTip=!1},askIfTobeLandlord:function(e){var t=this;this.repeatFn(3,this.dealThreeCards.bind(this,e)),this.isHiddenThreeCard=!1,this.isShowIfTobeLandlord=!1,setTimeout(Object(d["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.sortPoker(e),e.isLord=!0,r.next=4,t.lordAnimate(e);case 4:1===e.playerNum?t.isMyHit=!0:t.computerTurn(e);case 5:case"end":return r.stop()}}),r)}))),0)},lordAnimate:function(e){return new Promise((function(t){var r=Be["a"].timeline(),n=document.getElementsByClassName("worker"),a={x:-260,y:50,duration:1,rotationY:720,scale:.5,ease:"power2.inOut"};2===e.playerNum&&Object.assign(a,{x:200,y:-160}),r.add(),r.to(".lord-icon",{rotationY:1080,duration:2,onComplete:function(){n.forEach((function(e){Be["a"].to(e,{rotationY:-720,duration:2,opacity:1,ease:"power2.inOut",scale:.5})})),t()}}),r.to(".lord-icon",a)}))},dealThreeCards:function(e){e.hands.push(this.pokers.shift())},notLandlord:function(e){var t=e.nextTurn,r=this.playerList[t-1];this.askIfTobeLandlord(r)},nextOne:function(){this.player1.nowTurnHitCardsList=[],this.computerTurn(this.player2)},hint:function(){},playerHitHandler:function(){this.afterHitHandler(this.player1)},afterHitHandler:function(e){var t=e.playerNum,r=e.nextTurn;if(1===t&&(this.isShowHitCards=!0,this.isMyHit=!1,0===e.hands.length))return setTimeout((function(){alert("".concat(e.name,"Ëé∑ËÉúÂï¶ÔºÅ"))}),0),this.resetGame(),!1;if(2===t&&(this.isShowHitCardsPlayer2=!0),3===t)return this.isShowHitCardsPlayer3=!0,this.isShowHitCards=!1,void(this.isMyHit=!0);var n=this.playerList[r-1];this.computerTurn(n)},computerTurn:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,u(1e3);case 2:if(n=e.playerNum,a=R(e,t.playerList),a){r.next=19;break}return r.next=7,Ce("notCall");case 7:if(2!==n){r.next=11;break}return t.isShowHitCardsPlayer2=!0,e.nowTurnHitCardsList=[],r.abrupt("return",t.computerTurn(t.player3));case 11:if(3!==n){r.next=17;break}return t.isShowHitCardsPlayer3=!0,e.nowTurnHitCardsList=[],t.player1.nowTurnHitCardsList=[],t.isMyHit=!0,r.abrupt("return");case 17:r.next=21;break;case 19:return r.next=21,Ce("hit");case 21:t.afterHitHandler(e);case 22:case"end":return r.stop()}}),r)})))()},dropHandCard:function(e,t){e.hands.splice(t.pop(),1)},repeatFn:function(e,t){if(0!==e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];t.call.apply(t,[null].concat(n)),e--,this.repeatFn.apply(this,[e,t].concat(n))}},clickCardHandler:function(e){if(e.isSelected=!e.isSelected,e.isSelected)this.selectedCards.push(e);else{var t=this.selectedCards.findIndex((function(t){return t.id===e.id}));this.selectedCards.splice(t,1)}},resetGame:function(){this.shuffle()}}},je=Re,Ke=(r("f15a"),Object(Te["a"])(je,s,o,!1,null,null,null)),Ge=Ke.exports,Ne=!1,De={name:"App",components:{Poker:Ge},created:function(){},mounted:function(){var e=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight,r=document.getElementById("app"),n="";e>=t?(n+="width:"+e+"px;",n+="height:"+t+"px;",n+="-webkit-transform: rotate(0); transform: rotate(0);",n+="-webkit-transform-origin: 0 0;",n+="transform-origin: 0 0;"):(n+="width:"+t+"px;",n+="height:"+e+"px;",n+="-webkit-transform: rotate(90deg); transform: rotate(90deg);",n+="-webkit-transform-origin: "+e/2+"px "+e/2+"px;",n+="transform-origin: "+e/2+"px "+e/2+"px;"),r.style.cssText=n};window.onresize=e,e(),document.body.addEventListener("click",(function(){Ne||(Ne&&Ce("nothing"),Ne=!0)}),!1)}},Ue=De,Me=(r("034f"),Object(Te["a"])(Ue,a,i,!1,null,null,null)),Ae=Me.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(Ae)}}).$mount("#app")},"62ef":function(e,t,r){e.exports=r.p+"media/shuffle.aab9e53f.mp3"},"67d3":function(e,t,r){e.exports=r.p+"media/bg.06863a8b.mp3"},"74cb":function(e,t,r){e.exports=r.p+"media/btn.ad03e214.mp3"},7629:function(e,t,r){e.exports=r.p+"img/table.490f6a28.png"},"7aa2":function(e,t,r){e.exports=r.p+"media/soft.2ca79414.wav"},"7e5d":function(e,t,r){"use strict";r("acee")},"85ec":function(e,t,r){},9332:function(e,t,r){e.exports=r.p+"media/angry.bf0a9111.mp3"},9434:function(e,t,r){e.exports=r.p+"media/error.f645d736.mp3"},"9c47":function(e,t,r){},a972:function(e,t,r){e.exports=r.p+"media/hit.e2a97b3d.mp3"},acee:function(e,t,r){},af29:function(e,t,r){e.exports=r.p+"media/nothing.aa011504.wav"},f15a:function(e,t,r){"use strict";r("9c47")}});
//# sourceMappingURL=app.682d6531.js.map